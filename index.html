<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ranch Rant</title>
  <link href="https://fonts.googleapis.com/css2?family=Chango&family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/scripts.js" defer></script>
</head>
<body>
  <header>
    <div id="logo" class="header-logo">
      <h1>Ranch Rant</h1>
    </div>
    <nav class="navbar">
      <a href="index.html">Home</a>
      <a href="send-tea.html">Send Tea</a>
      <a href="archive.html">Archive</a>
      <a href="shop.html">Shop</a>
    </nav>
    <p id="short-description">
      Welcome to the Ranch Rant blog—where the chaos never stops, and neither do we. Get ready for the most ridiculous tea you've ever sipped!
      <br>
      <a href="newsletter.html">Keep sippin' and sign up for our dope af newsletter!</a>
    </p>
  </header>

  <main>
    <section id="content-wrapper">
      <div id="current-story">
        <h2>Current Story</h2>
        <h3 id="story-title"></h3> <!-- Story title will load here -->
        <p id="story-content"></p> <!-- Story content will load here -->
      </div>

      <aside id="right-side">
        <div id="dynamic-content-section">
          <div id="dynamic-content">Loading dynamic content...</div>
          <span class="nav-arrow">←</span>
          <span class="nav-arrow">→</span>
        </div>

        <div id="calendar-section">
          <h3>Upcoming Events</h3>
          <div id="calendar">Calendar Grid Here</div>
        </div>

        <div id="word-cloud-section">
          <h3>Popular Searches</h3>
          <div id="word-cloud">Word Cloud Here</div>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    <div class="social-media">
      <a href="#"><img src="assets/instagram.png" alt="Instagram"></a>
      <a href="#"><img src="assets/twitter.png" alt="Twitter"></a>
      <a href="#"><img src="assets/youtube.png" alt="YouTube"></a>
      <a href="#"><img src="assets/facebook.png" alt="Facebook"></a>
    </div>
    <small>&copy; Triple-R 2024. All rights reserved.</small>
    <p>Disclaimer: This site provides local news, gossip, and entertainment, and is not responsible for the accuracy of any information provided.</p>
  </footer>

  <script>
    // Load story content from the current story file in the stories folder
    function loadStory(fileName) {
      fetch('stories/' + fileName) // Load from the 'stories' folder
        .then(response => response.text())
        .then(data => {
          const storyParts = data.split('\n'); // Assuming title and content are separated by new lines
          document.getElementById('story-title').textContent = storyParts[0]; // Title in the first line
          document.getElementById('story-content').textContent = storyParts.slice(1).join('\n'); // Rest as content
        })
        .catch(err => console.log("Error loading story:", err));
    }

    // Call the function to load the current story (week1.txt or whatever is in 'stories/')
    loadStory('week1.txt'); // Make sure the current story file is named accordingly in 'stories/'

    // Dynamic content cycling
    let dynamicContentIndex = 0;
    const dynamicContent = document.getElementById('dynamic-content');
    const contentList = ["Tip 1: Try this!", "Tip 2: Did you know?", "Tip 3: Stay tuned!"]; // Placeholder content

    if (dynamicContent) {
      dynamicContent.textContent = contentList[dynamicContentIndex]; // Load the initial content

      setInterval(() => {
        dynamicContentIndex = (dynamicContentIndex + 1) % contentList.length;
        dynamicContent.textContent = contentList[dynamicContentIndex];
      }, 10000); // 10 seconds interval
    }

    // Navigation through dynamic content arrows
    const leftArrow = document.querySelector('.nav-arrow:first-of-type');
    const rightArrow = document.querySelector('.nav-arrow:last-of-type');

    if (leftArrow && rightArrow && dynamicContent) {
      leftArrow.addEventListener('click', () => {
        dynamicContentIndex = (dynamicContentIndex - 1 + contentList.length) % contentList.length;
        dynamicContent.textContent = contentList[dynamicContentIndex];
      });

      rightArrow.addEventListener('click', () => {
        dynamicContentIndex = (dynamicContentIndex + 1) % contentList.length;
        dynamicContent.textContent = contentList[dynamicContentIndex];
      });
    }
  </script>
</body>
</html>
